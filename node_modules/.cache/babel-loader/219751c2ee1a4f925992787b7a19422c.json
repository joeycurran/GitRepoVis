{"ast":null,"code":"'use strict';\n\nvar isRat = require('./is-rat');\n\nvar isBN = require('./lib/is-bn');\n\nvar num2bn = require('./lib/num-to-bn');\n\nvar str2bn = require('./lib/str-to-bn');\n\nvar rationalize = require('./lib/rationalize');\n\nvar div = require('./div');\n\nmodule.exports = makeRational;\n\nfunction makeRational(numer, denom) {\n  if (isRat(numer)) {\n    if (denom) {\n      return div(numer, makeRational(denom));\n    }\n\n    return [numer[0].clone(), numer[1].clone()];\n  }\n\n  var shift = 0;\n  var a, b;\n\n  if (isBN(numer)) {\n    a = numer.clone();\n  } else if (typeof numer === 'string') {\n    a = str2bn(numer);\n  } else if (numer === 0) {\n    return [num2bn(0), num2bn(1)];\n  } else if (numer === Math.floor(numer)) {\n    a = num2bn(numer);\n  } else {\n    while (numer !== Math.floor(numer)) {\n      numer = numer * Math.pow(2, 256);\n      shift -= 256;\n    }\n\n    a = num2bn(numer);\n  }\n\n  if (isRat(denom)) {\n    a.mul(denom[1]);\n    b = denom[0].clone();\n  } else if (isBN(denom)) {\n    b = denom.clone();\n  } else if (typeof denom === 'string') {\n    b = str2bn(denom);\n  } else if (!denom) {\n    b = num2bn(1);\n  } else if (denom === Math.floor(denom)) {\n    b = num2bn(denom);\n  } else {\n    while (denom !== Math.floor(denom)) {\n      denom = denom * Math.pow(2, 256);\n      shift += 256;\n    }\n\n    b = num2bn(denom);\n  }\n\n  if (shift > 0) {\n    a = a.ushln(shift);\n  } else if (shift < 0) {\n    b = b.ushln(-shift);\n  }\n\n  return rationalize(a, b);\n}","map":null,"metadata":{},"sourceType":"script"}