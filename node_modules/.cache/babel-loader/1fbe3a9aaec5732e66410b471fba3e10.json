{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar scatterPlot = require('../scatter/plot');\n\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nmodule.exports = function plot(gd, subplot, moduleCalcData) {\n  var mlayer = subplot.layers.frontplot.select('g.scatterlayer');\n  var plotinfo = {\n    xaxis: subplot.xaxis,\n    yaxis: subplot.yaxis,\n    plot: subplot.framework,\n    layerClipId: subplot._hasClipOnAxisFalse ? subplot.clipIds.forTraces : null\n  };\n  var radialAxis = subplot.radialAxis;\n  var angularAxis = subplot.angularAxis; // convert:\n  // 'c' (r,theta) -> 'geometric' (r,theta) -> (x,y)\n\n  for (var i = 0; i < moduleCalcData.length; i++) {\n    var cdi = moduleCalcData[i];\n\n    for (var j = 0; j < cdi.length; j++) {\n      var cd = cdi[j];\n      var r = cd.r;\n\n      if (r === BADNUM) {\n        cd.x = cd.y = BADNUM;\n      } else {\n        var rg = radialAxis.c2g(r);\n        var thetag = angularAxis.c2g(cd.theta);\n        cd.x = rg * Math.cos(thetag);\n        cd.y = rg * Math.sin(thetag);\n      }\n    }\n  }\n\n  scatterPlot(gd, plotinfo, moduleCalcData, mlayer);\n};","map":null,"metadata":{},"sourceType":"script"}