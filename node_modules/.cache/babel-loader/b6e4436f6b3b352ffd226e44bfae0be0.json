{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nmodule.exports = function selectPoints(searchInfo, selectionTester) {\n  var cd = searchInfo.cd;\n  var xa = searchInfo.xaxis;\n  var ya = searchInfo.yaxis;\n  var selection = [];\n  var i, j;\n\n  if (selectionTester === false) {\n    for (i = 0; i < cd.length; i++) {\n      for (j = 0; j < (cd[i].pts || []).length; j++) {\n        // clear selection\n        cd[i].pts[j].selected = 0;\n      }\n    }\n  } else {\n    for (i = 0; i < cd.length; i++) {\n      for (j = 0; j < (cd[i].pts || []).length; j++) {\n        var pt = cd[i].pts[j];\n        var x = xa.c2p(pt.x);\n        var y = ya.c2p(pt.y);\n\n        if (selectionTester.contains([x, y], null, pt.i, searchInfo)) {\n          selection.push({\n            pointNumber: pt.i,\n            x: xa.c2d(pt.x),\n            y: ya.c2d(pt.y)\n          });\n          pt.selected = 1;\n        } else {\n          pt.selected = 0;\n        }\n      }\n    }\n  }\n\n  return selection;\n};","map":null,"metadata":{},"sourceType":"script"}