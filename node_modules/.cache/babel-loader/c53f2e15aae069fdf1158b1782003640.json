{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar choroplethAttrs = require('../choropleth/attributes');\n\nvar colorScaleAttrs = require('../../components/colorscale/attributes');\n\nvar hovertemplateAttrs = require('../../plots/template_attributes').hovertemplateAttrs;\n\nvar extendFlat = require('../../lib/extend').extendFlat;\n\nmodule.exports = extendFlat({\n  locations: {\n    valType: 'data_array',\n    editType: 'calc',\n    description: ['Sets which features found in *geojson* to plot using', 'their feature `id` field.'].join(' ')\n  },\n  // TODO\n  // Maybe start with only one value (that we could name e.g. 'geojson-id'),\n  // but eventually:\n  // - we could also support for our own dist/topojson/*\n  // - some people might want `geojson-properties-name` to map data arrays to\n  //   GeoJSON features\n  // locationmode: choroplethAttrs.locationmode,\n  z: {\n    valType: 'data_array',\n    editType: 'calc',\n    description: 'Sets the color values.'\n  },\n  // TODO maybe we could also set a \"key\" to dig out values out of the\n  // GeoJSON feature `properties` fields?\n  geojson: {\n    valType: 'any',\n    role: 'info',\n    editType: 'calc',\n    description: ['Sets the GeoJSON data associated with this trace.', 'Can be set as a valid GeoJSON object or as URL string', 'Note that we only accept GeoJSON of type *FeatureCollection* and *Feature*', 'with geometries of type *Polygon* and *MultiPolygon*.'].join(' ')\n  },\n  // TODO agree on name / behaviour\n  //\n  // 'below' is used currently for layout.mapbox.layers,\n  // even though it's not very plotly-esque.\n  //\n  // Note also, that the mapbox-gl style don't all have the same layers,\n  // see https://codepen.io/etpinard/pen/ydVMwM for full list\n  below: {\n    valType: 'string',\n    role: 'info',\n    editType: 'plot',\n    description: ['Determines if the choropleth polygons will be inserted', 'before the layer with the specified ID.', 'By default, choroplethmapbox traces are placed above the water layers.', 'If set to \\'\\',', 'the layer will be inserted above every existing layer.'].join(' ')\n  },\n  text: choroplethAttrs.text,\n  hovertext: choroplethAttrs.hovertext,\n  marker: {\n    line: {\n      color: extendFlat({}, choroplethAttrs.marker.line.color, {\n        editType: 'plot'\n      }),\n      width: extendFlat({}, choroplethAttrs.marker.line.width, {\n        editType: 'plot'\n      }),\n      editType: 'calc'\n    },\n    // TODO maybe having a dflt less than 1, together with `below:''` would be better?\n    opacity: extendFlat({}, choroplethAttrs.marker.opacity, {\n      editType: 'plot'\n    }),\n    editType: 'calc'\n  },\n  selected: {\n    marker: {\n      opacity: extendFlat({}, choroplethAttrs.selected.marker.opacity, {\n        editType: 'plot'\n      }),\n      editType: 'plot'\n    },\n    editType: 'plot'\n  },\n  unselected: {\n    marker: {\n      opacity: extendFlat({}, choroplethAttrs.unselected.marker.opacity, {\n        editType: 'plot'\n      }),\n      editType: 'plot'\n    },\n    editType: 'plot'\n  },\n  hoverinfo: choroplethAttrs.hoverinfo,\n  hovertemplate: hovertemplateAttrs({}, {\n    keys: ['properties']\n  })\n}, colorScaleAttrs('', {\n  cLetter: 'z',\n  editTypeOverride: 'calc'\n}));","map":null,"metadata":{},"sourceType":"script"}